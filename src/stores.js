import { writable } from "svelte/store";
import { browser } from "$app/env";

export const userName = writable(browser && (localStorage.getItem("userName") || ""));
userName.subscribe((val) => browser && localStorage.setItem("userName", val));

const answersName = "answers"
const answersRetrieved = browser && JSON.parse(localStorage.getItem(answersName));
export const answers = writable(browser && (answersRetrieved === null ? [] : answersRetrieved));
answers.subscribe((val) => browser && localStorage.setItem(answersName, JSON.stringify(val)));

export async function clear(){
    browser && localStorage.clear();
}